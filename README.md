# PgfPlotter
A tool to generate LaTeX PGF code from Python. Everybody loves making calculations in Python, for it's quite user-friendly and efficient, but exporting `matplotlib` figures and pasting them in your beautiful-looking LaTeX article ruins it. Yet, you're not eager to export your data and plot it in LaTeX using whatever plotting package availabe, for you never remember the right commands and/or don't do it often enough to feel the worth of learning properly how to do it. But fear not, mortal, with this small package I provide you with, you can readily generate beautiful figures directly from your favorite Python calculation program. Simply feed them to `PgfPlotter`, and it will kindly process it for you and output a `.csv` file containing your data nicely formatted, along with a minimal `\figure` LaTeX environment ready to be integrated in your article.  

## Inputting data in `PgfPlotter`
Once your data has been generated in Python, you may concatenate them all in a big matrix, each *row* of which containing a dataset to be plotted. By convention, the x-axis is unique and shall be the first row of the data matrix. You can then have as many y-axis datasets as you wish (see example code in `./tests` folder). Once you've gathered all your data, you may initialize the plotter using

```python
plotter = PgfPlotter.Plotter(data, 'export_name', axis_options={"key": "value"})
```

Note that the `export_name` that you choose will also be the default `\label` of your figure. In the (optional) `axis_optn` parameter, you may enter every PGF option you would normally put in the brackets `\begin{axis}[...]`. This includes axis labels (which are set to `$x$` and `$y$` by default), figure width and height... By default, `PgfPlots` will generate a minimal set of axis options so that the figure will look nice in most cases. If you don't want to bother changing them in you Python code, you can change it later in directly in the LaTeX file. For now, individual plot options (such as linestyles and such) cannot be changed from Python. If you want special aesthetics to your plots, you may want to change these in LaTeX.

## Generating the plot
After the plotter has been initialized with your data, you can customize the figure a bit from Python before exporting it. Here I present the main functionnalities of `PgfPlotter` for this purpose.

### Adding a caption
A dummy caption is generated by `PgfPlots` that you will be able to change in you LaTeX file. If you want to change it from Python, you may use the function
```python
plotter.caption("Your caption")
```

### Adding a legend
Legends for your various sets of data is not included by default. If you want to legend you plot, use the command
```python
plotter.legend(["Plot 1", "Plot 2"])
```
Each element of your list refers to one row of you data matrix, excepted of course to the first one that contains the x axis. There should be no more items in the legend than y-axis datasets in the data matrix. You can use LaTeX math mode (within `$ $`) for you legend items, but still surround them with quotes. 

### Adding or modifying axis options
If you want to add or modify axis options after the plotter has been initialized, you can do it using
```python
plotter.add_axis_optn("key", "value")
```
You can set all the options at once using a dictionnary and the function
```python
plotter.set_axis_options({"key": "value"}, add_default=True)
```
The boolean `add_default` is set to `True` by default, meaning that if you don't specify one on the default options, it will take its default value. If you specify `add_default=False`, only the options you give will be set.

### Exporting the figure
Once you are done setting up your plot, use the function
```python
plotter.export_latex()
```
to export your figure. Upon running, this will create two files in a `./export/` folder next to your Python script. The first one will be a `.csv` file containing your data and auto-generated headers for referencing in the LaTeX code, and the other one is the LaTeX code itself for the `figure` environment. To integrate your figure in a LaTeX document, move the `.csv` file in your LaTeX project an either copy the content of the `.tex` file in your LaTeX document or use 
```latex
\input{export_name.tex}
```
if you prefer to use separate files for your figures. Note that if your data sets are big (typically over 10,000 data points), your LaTeX project will take some time to compile. If you want to reduce it, either resample your data so that there is less data points (usually 100 or 200 points are enough for a curve to appear smooth in a PGF plot) or use the `tikz-external` library to compile your figures once for all. 
